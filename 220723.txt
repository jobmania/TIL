
-------------
ìŠ¤í”„ë§ë´„ 2ê°• -5
spring.jpa.show-sql=true     >> ì˜ë¯¸ëŠ” ìŠ¤í”„ë§ì´ jpaë¡œ ì‘ë™í• ë•Œ sqlì„ ë³´ì—¬ë‹¬ë¼.

*)SQLì—ì„œ ì‘ì—…í•˜ëŠ” ê²ƒì€  repositoryë¥¼ ì ëŠ”ë‹¤.
ìë°”ì–¸ì–´ë¡œ ê°’ì„ ì…ë ¥í•˜ê³  ë°ì´í„°ë² ì´ìŠ¤ ì…ë ¥ëœ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤ã…£.

-----------------------
ìŠ¤í”„ë§ë´„ 2ê°• -6
extends ìƒì†~

@ ë¶™ì€ê±¸ ì–´ë…¸í…Œì´ì…˜(annotation)ì´ë¼ê³ í•¨.. Springí•œí…Œ ì–˜ëŠ” ì´ëŸ¬í•œ ì—­í• ì´ì•¼ë¼ê³  ì•Œë ¤ì¤Œ.

abstract ì¶”ìƒ == ì§ì ‘ ì‚¬ìš© ëª»í•˜ê³  ìƒì†(extends)ìœ¼ë¡œë§Œ ì‚¬ìš©ê°€ëŠ¥í•˜ë‹¤!! 

*)Timestampedë¥¼ ì‚¬ìš©í•˜ëŠ”ë°©ë²•
Classì— ìƒì†ì‹œí‚¨ë‹¤. 
@EnableJpaAuditingì„ application.javaì— ê¸°ì…í•œë‹¤.(ìƒì„±ì¼ì ,ìˆ˜ì •ì¼ìê°€ ë‚˜ì˜¨ë‹¤.)
--------------------
ìŠ¤í”„ë§ë´„ 2ê°• 7
CRUDëŠ” ëŒ€ë¶€ë¶„ì˜ ì»´í“¨í„° ì†Œí”„íŠ¸ì›¨ì–´ê°€ ê°€ì§€ëŠ” ê¸°ë³¸ì ì¸ ë°ì´í„° ì²˜ë¦¬ ê¸°ëŠ¥ì¸ 
Create(ìƒì„±), Read(ì½ê¸°), Update(ê°±ì‹ ), Delete(ì‚­ì œ)ë¥¼ ë¬¶ì–´ì„œ ì¼ì»«ëŠ” ë§

Repositoryë€ ->Entityì— ì˜í•´ ìƒì„±ëœ DBì— ì ‘ê·¼í•˜ëŠ” ë©”ì„œë“œ(ex) findAll()) ë“¤ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. ìœ„ì—ì„œ ì—”í‹°í‹°ë¥¼ ì„ ì–¸í•¨ìœ¼ë¡œì¨ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´, ì—¬ê¸°ì— ì–´ë–¤ ê°’ì„ ë„£ê±°ë‚˜, ë„£ì–´ì§„ ê°’ì„ ì¡°íšŒí•˜ëŠ” ë“±ì˜ CRUD(Create, Read, Update, Delete)ë¥¼ í•´ì•¼ ì“¸ëª¨ê°€ ìˆëŠ”ë°, ì´ê²ƒì„ ì–´ë–»ê²Œ í•  ê²ƒì¸ì§€ ì •ì˜í•´ì£¼ëŠ” ê³„ì¸µì´ë¼ê³  ìƒê°í•˜ë©´ ëœë‹¤.
    ~~~~~~~
IDê°’ì„ ë¶ˆëŸ¬ì˜¬ë•Œ í•˜ëŠ” ë°©ë²•!!! ->Repoì—ì„œ ë“¤ê³ ì˜¤ê³  idê°’ì´ ì—†ë‹¤ë©´ orElseThrowë¥¼ ì‹¤í–‰
 Course course = repository.findById(1L).orElseThrow(
         () -> new IllegalArgumentException("í•´ë‹¹ ì•„ì´ë””ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")
         () -> new NullPointerException("ì•„ì´ë””ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")	            
);

~~~~~~~~
Service ìƒì„±ì„ í•´ë³´ì~
íŒ¨ì¹˜í‚¤ service í´ë” ìƒì„±í•˜ê³  
ë„ë§¤ì¸ classì— ì¶”ê°€í•œë‹¤  
public void update(Course course) {
        this.title = course.title;
        this.tutor = course.tutor;
    }
ì´í›„ service íŒ¨í‚¤ì§€ì—ì„œ final ë° ìƒì„±ìë¥¼ ë§Œë“¤ê³ 
ê·¸í›„ dbë¥¼ ë°”ê¿€ Trans~~ë¥¼ ì…ë ¥!!


personRepository.deleteAll();//ì‚­ì œí•˜ê¸°

ì°¾ì•„ë³´ë©´ ì¢‹ì„ í‚¤ì›Œë“œ
RDBMS vs NoSQL
-https://universitytomorrow.com/26
 JPA
 Repository



-----------------------------------
ìŠ¤í”¼ë§ê°•ì˜ ë´„ 2-8
Lombok : ì½”ë“œë¥¼ ì ˆì•½
ex) getterë¥¼  @Getter í•œë‹¨ì–´ë¡œ ì¶•ì•½

DTO(Data Transfer Object) : ì •ë³´ë¥¼ ì—…ë°ì´íŠ¸í• ë•Œ ë°ì´í„°ë² ì´ìŠ¤ì— ì‚¬ìš©ë˜ëŠ” í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ í´ë˜ìŠ¤ë¥¼ í†µí•´ ì—…ë°ì´íŠ¸
ì¦‰! ì •ë³´ ê´€ë ¨ì„ ë¬¼ê³ ë‹¤ë‹ˆëŠ” ë…€ì„!


ğŸ’¡ ìƒì„±í•  íŒ¨í‚¤ì§€ ì¢…ë¥˜

- **contorller**
- **entity**
- **repository**
- **service**
- **dto**

------------------------
ìŠ¤í”„ë§ê°•ì˜ ë´„ 2-9
REST 
GETì¡°íšŒ POSTì…ë ¥ PUTìˆ˜ì • DELETEì‚­ì œ  4ê°€ì§€
ì£¼ì˜ì‚¬í•­!!
ì£¼ì†Œì— ë“¤ì–´ê°€ëŠ” ëª…ì‚¬ë“¤ì€ ë³µìˆ˜ë¥¼ ì‚¬ìš©,
ì£¼ì†Œì— ë™ì‚¬ëŠ” ê°€ê¸‰ì  ì‚¬ìš©í•˜ì§€ ì•ŠëŠ”ë‹¤. 


-----------------------
ìŠ¤í”„ë§ê°•ì˜ ë´„ 2-10
POST, PUT DELETE

Post ì‘ì„±ì‹œ @RequestBodyë¥¼ ë„£ì–´ì¤˜ì•¼ DTOì— ë“¤ì–´ê°„ë‹¤
Put,Delete ì‘ì„±ì‹œ @PathVariableë¥¼ ë©”ì†Œë“œ ì‘ì„±ì‹œ ë„£ì–´ì¤˜ì•¼ {id}ê°’ì´ ë“¤ì–´ì˜¨ë‹¤.


1.POST
SPRINGì—ì„œ POST ë°©ì‹ì€ ì—„ê²©í•˜ê²Œ ì •í•´ì ¸ ìˆë‹¤. 
2.PUT

----------------
ìˆ™ì œë§Œë“¤ê¸°
Domain í´ë”ì•ˆì— Classìƒì„±í•  java í´ë˜ìŠ¤, Repoë¥¼ ë§Œë“ ë‹¤.

ìƒì„±í• ë•Œ ì•„í‹°íŒ©íŠ¸ ì¤‘ìš”!!!!!!!
ì…ë ¥ë° repoì— ì €ì¥
@Bean
    public CommandLineRunner demo(PersonRepository repository) {
        return (args) -> {

            Person person1 = new Person("ì†", 100);
            repository.save(person1);
            List<Person> personList = repository.findAll();
            for(int i =0; i<personList.size();i++){
                Person man = personList.get(i);
                System.out.println(man.getName());
                System.out.println(man.getAge());
            }


        };
~~~~~~~~~~`
Domainì— íƒ€ì„ìŠ¤íƒ¬í”„ ìƒì„±í•¨.

// ë°ì´í„° í•˜ë‚˜ ì¡°íšŒí•˜ê¸°
            Person person = repository.findById(1L).orElseThrow(
                    () -> new IllegalArgumentException("í•´ë‹¹ ì•„ì´ë””ê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.")  // ì—†ìœ¼ë©´ í•´ë‹¹ ë‚´ìš©ì„ ì¶œë ¥í•˜ë„ë¡ í•¨!
            );
~~~~~~~~~~~~~~~~
ì—…ë°ì´íŠ¸ í•˜ê¸° serviceë¥¼ í†µí•´ì„œ

@Getter
@Setter
@RequiredArgsConstructor   // final ì‚¬ìš©í• ë•Œ ë°˜ë“œì‹œ ë„£ì–´ì£¼ê¸° 
@NoArgsConstructor // ê¸°ë³¸ìƒì„±ì ëŒ€ì‹ ìƒì„±
@RestController // jsoní˜•ì‹ìœ¼ë¡œ í‘œì‹œí•´ì¤˜


